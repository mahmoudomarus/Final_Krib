"use strict";(self.webpackChunkuae_rental_platform=self.webpackChunkuae_rental_platform||[]).push([[622],{622:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(643),n=s(135),r=s(390),i=s(990),o=s(401),l=s(648),c=s(798),d=s(536),m=s(580),p=s(656),h=s(670),u=s(221),x=s(446),g=s(364),y=s(215),v=s(443),b=s(321),j=s(507);const f=()=>{const[e,t]=(0,a.useState)(null),[s,f]=(0,a.useState)(!0),[N,w]=(0,a.useState)({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0],label:"Last 30 Days"}),[A,B]=(0,a.useState)("overview"),S=[{start:new Date(Date.now()-6048e5).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0],label:"Last 7 Days"},{start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0],label:"Last 30 Days"},{start:new Date(Date.now()-7776e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0],label:"Last 90 Days"},{start:new Date((new Date).getFullYear(),0,1).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0],label:"This Year"}];(0,a.useEffect)((()=>{T()}),[N]);const T=async()=>{try{f(!0);const e=new URLSearchParams({startDate:N.start,endDate:N.end}),s=await y.K.get("/super-admin/analytics/financial?".concat(e));t(s.data)}catch(e){console.error("Error fetching analytics data:",e),t({revenueAnalytics:{totalRevenue:125e3,monthlyGrowth:15.2,yearlyGrowth:45.8,revenueByMonth:[{month:"Jan",revenue:8500,transactions:45},{month:"Feb",revenue:12e3,transactions:62},{month:"Mar",revenue:15500,transactions:78},{month:"Apr",revenue:18200,transactions:89},{month:"May",revenue:22e3,transactions:105},{month:"Jun",revenue:25500,transactions:125}],revenueByProperty:[{property:"Marina Heights Apartment",revenue:15e3,bookings:25},{property:"Downtown Villa",revenue:12500,bookings:18},{property:"JBR Beach Studio",revenue:10200,bookings:32}],revenueByHost:[{host:"Ahmed Al-Rashid",revenue:25e3,commission:3750},{host:"Sarah Johnson",revenue:18500,commission:2775},{host:"Mohammed Hassan",revenue:15200,commission:2280}],revenueByLocation:[{city:"Dubai",emirate:"Dubai",revenue:85e3},{city:"Abu Dhabi",emirate:"Abu Dhabi",revenue:25e3},{city:"Sharjah",emirate:"Sharjah",revenue:15e3}]},transactionAnalytics:{totalTransactions:1250,averageTransactionValue:850,transactionsByType:[{type:"Booking Payment",count:450,amount:38e4},{type:"Host Payout",count:320,amount:285e3},{type:"Platform Fee",count:450,amount:57e3},{type:"Refund",count:30,amount:25e3}],transactionsByStatus:[{status:"Completed",count:1100,percentage:88},{status:"Pending",count:85,percentage:6.8},{status:"Failed",count:45,percentage:3.6},{status:"Cancelled",count:20,percentage:1.6}],paymentMethodBreakdown:[{method:"Credit Card",count:750,amount:65e4,percentage:60},{method:"Bank Transfer",count:300,amount:28e4,percentage:24},{method:"Digital Wallet",count:150,amount:125e3,percentage:12},{method:"Cash",count:50,amount:45e3,percentage:4}],failureRate:3.6,processingTime:{average:2.5,median:1.8}},hostAnalytics:{totalHosts:85,activeHosts:72,topPerformingHosts:[{host:"Ahmed Al-Rashid",revenue:25e3,properties:3,rating:4.9},{host:"Sarah Johnson",revenue:18500,properties:2,rating:4.8},{host:"Mohammed Hassan",revenue:15200,properties:4,rating:4.7}],hostCommissionBreakdown:[{host:"Ahmed Al-Rashid",totalEarnings:25e3,commission:3750,netEarnings:21250},{host:"Sarah Johnson",totalEarnings:18500,commission:2775,netEarnings:15725}],newHostsThisMonth:8},propertyAnalytics:{totalProperties:156,revenuePerProperty:1850,topPerformingProperties:[{property:"Marina Heights Apartment",revenue:15e3,bookings:25,occupancyRate:85},{property:"Downtown Villa",revenue:12500,bookings:18,occupancyRate:78},{property:"JBR Beach Studio",revenue:10200,bookings:32,occupancyRate:92}],propertyTypeBreakdown:[{type:"Apartment",count:85,revenue:45e4,avgPrice:850},{type:"Villa",count:35,revenue:38e4,avgPrice:1200},{type:"Studio",count:25,revenue:18e4,avgPrice:650},{type:"Townhouse",count:11,revenue:125e3,avgPrice:950}],locationPerformance:[{location:"Dubai Marina",properties:45,revenue:385e3,avgBookingValue:950},{location:"Downtown Dubai",properties:28,revenue:285e3,avgBookingValue:1100},{location:"JBR",properties:22,revenue:195e3,avgBookingValue:750}]},customerAnalytics:{totalCustomers:2850,repeatCustomers:1250,customerLifetimeValue:1850,customersByLocation:[{location:"UAE",count:1200,totalSpent:85e4},{location:"Saudi Arabia",count:450,totalSpent:385e3},{location:"UK",count:350,totalSpent:295e3},{location:"India",count:280,totalSpent:185e3}],bookingFrequency:[{frequency:"First Time",count:1600,percentage:56.1},{frequency:"2-3 Times",count:850,percentage:29.8},{frequency:"4-6 Times",count:280,percentage:9.8},{frequency:"7+ Times",count:120,percentage:4.2}]},stripeAnalytics:{stripeRevenue:75e4,stripeTransactions:890,stripeFailureRate:2.1,averageProcessingTime:1.2,chargebackRate:.3,refundRate:1.8}})}finally{f(!1)}};return s?(0,j.jsx)("div",{className:"space-y-6",children:(0,j.jsxs)("div",{className:"animate-pulse",children:[(0,j.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map(((e,t)=>(0,j.jsx)("div",{className:"h-32 bg-gray-200 rounded"},t)))}),(0,j.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-6"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,j.jsx)("div",{className:"h-64 bg-gray-200 rounded"}),(0,j.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})]})}):(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Analytics"}),(0,j.jsx)("p",{className:"text-gray-600",children:"Comprehensive financial insights and performance metrics"})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("select",{value:N.label,onChange:e=>{const t=S.find((t=>t.label===e.target.value));t&&w(t)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map((e=>(0,j.jsx)("option",{value:e.label,children:e.label},e.label)))}),(0,j.jsxs)(g.$,{onClick:T,variant:"outline",children:[(0,j.jsx)(m.A,{className:"w-4 h-4 mr-2 ".concat(s?"animate-spin":"")}),"Refresh"]}),(0,j.jsxs)(g.$,{variant:"outline",children:[(0,j.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,j.jsx)("div",{className:"border-b border-gray-200",children:(0,j.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:h.A},{id:"revenue",label:"Revenue",icon:i.A},{id:"transactions",label:"Transactions",icon:l.A},{id:"hosts",label:"Hosts",icon:c.A},{id:"properties",label:"Properties",icon:d.A},{id:"customers",label:"Customers",icon:u.A}].map((e=>(0,j.jsx)("button",{onClick:()=>B(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(A===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(e.icon,{className:"w-4 h-4 mr-2"}),e.label]})},e.id)))})}),"overview"===A&&(0,j.jsxs)("div",{className:"space-y-6",children:[e&&(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,j.jsx)(x.Z,{className:"p-6",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,j.jsx)("p",{className:"text-3xl font-bold",children:(0,v.vv)(e.revenueAnalytics.totalRevenue)}),(0,j.jsxs)("div",{className:"flex items-center mt-2 ".concat(e.revenueAnalytics.monthlyGrowth>=0?"text-green-600":"text-red-600"),children:[e.revenueAnalytics.monthlyGrowth>=0?(0,j.jsx)(n.A,{className:"w-4 h-4"}):(0,j.jsx)(r.A,{className:"w-4 h-4"}),(0,j.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(e.revenueAnalytics.monthlyGrowth).toFixed(1),"% vs last period"]})]})]}),(0,j.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,j.jsx)(i.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,j.jsx)(x.Z,{className:"p-6",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Total Transactions"}),(0,j.jsx)("p",{className:"text-3xl font-bold",children:e.transactionAnalytics.totalTransactions.toLocaleString()}),(0,j.jsxs)("div",{className:"flex items-center mt-2 text-blue-600",children:[(0,j.jsx)(o.A,{className:"w-4 h-4"}),(0,j.jsxs)("span",{className:"text-sm ml-1",children:["Avg: ",(0,v.vv)(e.transactionAnalytics.averageTransactionValue)]})]})]}),(0,j.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,j.jsx)(l.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,j.jsx)(x.Z,{className:"p-6",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Active Hosts"}),(0,j.jsx)("p",{className:"text-3xl font-bold",children:e.hostAnalytics.activeHosts}),(0,j.jsxs)("div",{className:"flex items-center mt-2 text-purple-600",children:[(0,j.jsx)(c.A,{className:"w-4 h-4"}),(0,j.jsxs)("span",{className:"text-sm ml-1",children:["+",e.hostAnalytics.newHostsThisMonth," this month"]})]})]}),(0,j.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,j.jsx)(c.A,{className:"w-6 h-6 text-purple-600"})})]})}),(0,j.jsx)(x.Z,{className:"p-6",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Properties"}),(0,j.jsx)("p",{className:"text-3xl font-bold",children:e.propertyAnalytics.totalProperties}),(0,j.jsxs)("div",{className:"flex items-center mt-2 text-orange-600",children:[(0,j.jsx)(d.A,{className:"w-4 h-4"}),(0,j.jsxs)("span",{className:"text-sm ml-1",children:["Avg: ",(0,v.vv)(e.propertyAnalytics.revenuePerProperty),"/property"]})]})]}),(0,j.jsx)("div",{className:"p-3 bg-orange-100 rounded-full",children:(0,j.jsx)(d.A,{className:"w-6 h-6 text-orange-600"})})]})})]}),e&&(0,j.jsxs)(x.Z,{className:"p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),(0,j.jsx)(b.A,{data:[{x:e.revenueAnalytics.revenueByMonth.map((e=>e.month)),y:e.revenueAnalytics.revenueByMonth.map((e=>e.revenue)),type:"scatter",mode:"lines+markers",name:"Revenue (AED)",line:{color:"#3B82F6",width:3},marker:{size:8,color:"#3B82F6"},hovertemplate:"<b>%{x}</b><br>Revenue: AED %{y:,.0f}<extra></extra>"},{x:e.revenueAnalytics.revenueByMonth.map((e=>e.month)),y:e.revenueAnalytics.revenueByMonth.map((e=>e.transactions)),type:"scatter",mode:"lines+markers",name:"Transactions",yaxis:"y2",line:{color:"#10B981",width:2},marker:{size:6,color:"#10B981"},hovertemplate:"<b>%{x}</b><br>Transactions: %{y}<extra></extra>"}],layout:{xaxis:{title:{text:"Month"},showgrid:!0,gridcolor:"#f3f4f6"},yaxis:{title:{text:"Revenue (AED)"},side:"left",showgrid:!0,gridcolor:"#f3f4f6",tickformat:",.0f"},yaxis2:{title:{text:"Transactions"},side:"right",overlaying:"y",showgrid:!1},showlegend:!0,height:400,margin:{t:20,r:80,b:60,l:80},plot_bgcolor:"rgba(0,0,0,0)",paper_bgcolor:"rgba(0,0,0,0)",font:{family:"Inter, sans-serif",size:12}},config:{displayModeBar:!0,modeBarButtonsToRemove:["pan2d","lasso2d","select2d"],displaylogo:!1},style:{width:"100%"}})]}),e&&(0,j.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,j.jsxs)(x.Z,{className:"p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Methods Distribution"}),(0,j.jsx)(b.A,{data:[{values:e.transactionAnalytics.paymentMethodBreakdown.map((e=>e.percentage)),labels:e.transactionAnalytics.paymentMethodBreakdown.map((e=>e.method)),type:"pie",hole:.4,marker:{colors:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"]},textinfo:"label+percent",textposition:"auto",hovertemplate:"<b>%{label}</b><br>Amount: AED %{customdata:,.0f}<br>Percentage: %{percent}<extra></extra>",customdata:e.transactionAnalytics.paymentMethodBreakdown.map((e=>e.amount))}],layout:{showlegend:!1,height:350,margin:{t:20,r:20,b:20,l:20},plot_bgcolor:"rgba(0,0,0,0)",paper_bgcolor:"rgba(0,0,0,0)",font:{family:"Inter, sans-serif",size:12}},config:{displayModeBar:!1,displaylogo:!1},style:{width:"100%"}})]}),(0,j.jsxs)(x.Z,{className:"p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transaction Status Breakdown"}),(0,j.jsx)(b.A,{data:[{x:e.transactionAnalytics.transactionsByStatus.map((e=>e.status)),y:e.transactionAnalytics.transactionsByStatus.map((e=>e.count)),type:"bar",marker:{color:e.transactionAnalytics.transactionsByStatus.map(((e,t)=>["#10B981","#F59E0B","#EF4444","#6B7280"][t]||"#6B7280"))},hovertemplate:"<b>%{x}</b><br>Count: %{y}<br>Percentage: %{customdata}%<extra></extra>",customdata:e.transactionAnalytics.transactionsByStatus.map((e=>e.percentage))}],layout:{xaxis:{title:{text:"Status"},showgrid:!1},yaxis:{title:{text:"Transaction Count"},showgrid:!0,gridcolor:"#f3f4f6"},showlegend:!1,height:350,margin:{t:20,r:20,b:60,l:60},plot_bgcolor:"rgba(0,0,0,0)",paper_bgcolor:"rgba(0,0,0,0)",font:{family:"Inter, sans-serif",size:12}},config:{displayModeBar:!1,displaylogo:!1},style:{width:"100%"}})]})]}),e&&(0,j.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,j.jsxs)(x.Z,{className:"p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Hosts"}),(0,j.jsx)("div",{className:"space-y-4",children:e.hostAnalytics.topPerformingHosts.map(((e,t)=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,j.jsx)("span",{className:"text-sm font-medium text-blue-600",children:t+1})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.host}),(0,j.jsxs)("p",{className:"text-xs text-gray-500",children:[e.properties," properties \u2022 \u2b50 ",e.rating]})]})]}),(0,j.jsx)("div",{className:"text-right",children:(0,j.jsx)("p",{className:"text-sm font-medium",children:(0,v.vv)(e.revenue)})})]},t)))})]}),(0,j.jsxs)(x.Z,{className:"p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Properties"}),(0,j.jsx)("div",{className:"space-y-4",children:e.propertyAnalytics.topPerformingProperties.map(((e,t)=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,j.jsx)("span",{className:"text-sm font-medium text-green-600",children:t+1})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.property}),(0,j.jsxs)("p",{className:"text-xs text-gray-500",children:[e.bookings," bookings \u2022 ",e.occupancyRate,"% occupancy"]})]})]}),(0,j.jsx)("div",{className:"text-right",children:(0,j.jsx)("p",{className:"text-sm font-medium",children:(0,v.vv)(e.revenue)})})]},t)))})]})]})]})]})}}}]);
//# sourceMappingURL=622.a4b8029d.chunk.js.map